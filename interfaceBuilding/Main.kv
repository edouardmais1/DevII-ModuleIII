#:import App kivy.app.App

WindowManager:
    ConnexionScreen:
    InscriptionScreen:


<ConnexionScreen>:
    name : "first"
    canvas.before:
        Color:
            rgba : (0,0,0,1)
        Rectangle:
            pos: self.pos
            size: self.size


    BoxLayout:
        orientation : 'vertical'
        size : root.width, root.height

        spacing : 20
        padding : 20


        Label:
            text : "Login to EpheConv"
            font_size : 30

        Label:
            text : "email"
            size_hint : (None, None)
            height : 50
            width : 200
            canvas.before:
                Color:
                    rgba : (148, 204, 0, 0.5)

                Rectangle:
                    pos: self.pos
                    size: self.size

        TextInput:
            multiline : False

        Label:
            text : "password"
            size_hint : (None, None)
            height : 50
            width : 200
            canvas.before:
                Color:
                    rgba : (148, 204, 0, 0.5)

                Rectangle:
                    pos: self.pos
                    size: self.size

        TextInput:
            multiline : False


        Button:
            text: "Sign IN"
            font_size : 25
            pos_hint: {'center_x': .5, 'center_y': .5}

            canvas:
                Color:
                    rgba : (148, 204, 0, 0.5)

                Rectangle:
                    pos: self.pos
                    size: self.size


        BoxLayout:
            orientation : "horizontal"
            spacing: 20

            Label:
                text : "New to EpheConv ?"
                font_size: 25

            Button:
                text: "Create an account"
                font_size : 25
                pos_hint: {'center_x': .5, 'center_y': .5}
                on_release:
                    app.root.current = "second"
                    root.manager.transition.direction = "up"
                    root.manager.transition.duration = 0.4



<InscriptionScreen>:
    prenom_input : prenom
    nom_input: nom
    email_input: email
    code_input : code
    code_validation_message : msg
    check_code : check_code
    password_input : password
    check_password : check_password

    name : "second"
    canvas.before:
        Color:
            rgba : (0,0,0,1)
        Rectangle:
            pos: self.pos
            size: self.size


    BoxLayout:
        orientation : 'vertical'
        size : root.width, root.height

        spacing : 20
        padding : 20

        Label:
            text : "Prenom"
            size_hint : (None, None)
            height : 35
            width : 200
            canvas.before:
                Color:
                    rgba : (148, 204, 0, 0.5)

                Rectangle:
                    pos: self.pos
                    size: self.size

        TextInput:
            id: prenom
            multiline : False
            on_text_validate: root.validPrenom(self, self.text)
            on_text: self.foreground_color = (1,0,0,1)

        Label:
            text : "Nom"
            size_hint : (None, None)
            height : 35
            width : 200
            canvas.before:
                Color:
                    rgba : (148, 204, 0, 0.5)

                Rectangle:
                    pos: self.pos
                    size: self.size

        TextInput:
            id: nom
            multiline : False
            on_text_validate: root.validNom(self, self.text)
            on_text: self.foreground_color = (1,0,0,1)

        Label:
            text : "email"
            size_hint : (None, None)
            height : 35
            width : 200
            canvas.before:
                Color:
                    rgba : (148, 204, 0, 0.5)

                Rectangle:
                    pos: self.pos
                    size: self.size

        TextInput:
            id: email
            multiline : False
            on_text_validate: root.getEmail(self, self.text)
            on_text: self.foreground_color = (1,0,0,1)

        Label:
            id: msg
            canvas.before:
                Color:
                    rgba : (148, 204, 0, 0.5)

                Rectangle:
                    pos: self.pos
                    size: self.size

        Label:
            text : "code de validation"
            size_hint : (None, None)
            height : 35
            width : 200
            canvas.before:
                Color:
                    rgba : (148, 204, 0, 0.5)

                Rectangle:
                    pos: self.pos
                    size: self.size

        TextInput:
            id : code
            multiline : False
            on_text_validate: root.checkCode(self, self.text)
            on_text: self.foreground_color = (1,0,0,1)

        Label:
            id : check_code
            canvas.before:
                Color:
                    rgba : (148, 204, 0, 0.5)

                Rectangle:
                    pos: self.pos
                    size: self.size

        BoxLayout:
            orientation: 'horizontal'
            spacing : 30

            Label:
                text : "password"
                canvas.before:
                    Color:
                        rgba : (148, 204, 0, 0.5)

                    Rectangle:
                        pos: self.pos
                        size: self.size

            TextInput:
                id : password
                multiline : False
                on_text_validate: root.getPassword(self, self.text)
                on_text: self.foreground_color = (1,0,0,1)

            Label:
                text : "veuillez saisir un mot de passe robuste"
                id : check_password
                canvas.before:
                    Color:
                        rgba : (148, 204, 0, 0.5)

                    Rectangle:
                        pos: self.pos
                        size: self.size


        Label:
            text : "check password"
            canvas.before:
                Color:
                    rgba : (148, 204, 0, 0.5)

                Rectangle:
                    pos: self.pos
                    size: self.size

        TextInput:

        Label:
            canvas.before:
                Color:
                    rgba : (148, 204, 0, 0.5)

                Rectangle:
                    pos: self.pos
                    size: self.size

        BoxLayout:
            orientation : "horizontal"
            spacing : 30

            Button:
                text: "Submit"
                font_size : 25
                on_release:

            Button:
                text: "Go Back"
                font_size : 25
                on_release:
                    app.root.current = "first"
                    root.manager.transition.direction = "down"
                    root.manager.transition.duration = 0.4



